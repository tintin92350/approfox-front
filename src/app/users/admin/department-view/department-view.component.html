<div class="row">

  <div class="col-sm-12">
    <p>Liste de tous les départements enregistrés sur le site. Vous pouvez ici administrer leur compte, en ajouter ou en supprimer.</p>
  </div>
  <div class="col-sm-12 button-tab">
    <app-button type="primary" (click)="startAddingDepartment()"><i class="fas fa-plus"></i> Ajouter</app-button>
  </div>
  <div class="col-sm-12 special" *ngIf="isAddingDepartment()">
    <div class="section">
      <div class="section-header">
        <h3 class="section-title">Ajouter un département</h3>
      </div>
      <form class="section-content" [formGroup]="this.departmentForm">
        <div class="form-group">

          <div class="input-group">
            <label for="name">
              Prénom
            </label>
            <div class="input-wrapper">
              <input id="name" type="text" formControlName="name" [class.error]="name.invalid && (name.dirty || name.touched)" >
              <div class="error-box" *ngIf="name.invalid && (name.dirty || name.touched)">
                <span>Champs requis</span>
                <i class="fa fa-exclamation-circle" title="Champ requis !"  ></i>
              </div>
            </div>
          </div>

        </div>
        <div class="button-tab">
          <app-button type="normal" (click)="validAddingDepartment()" >Valider</app-button>
          <app-button type="danger-revert" (click)="cancelAddingDepartment()" >Annuler</app-button>
        </div>
      </form>
    </div>
  </div>
  <div class="col-sm-12">
    <div class="section">
      <div class="section-content section-table">
        <table class="table">
          <thead>
          <tr>
            <th>#</th>
            <th>Nom</th>
            <th>Nombre d'étudiant</th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let department of getDepartments()">
            <td>{{department.departmentId}}</td>
            <td><a [routerLink]="'/admin/departments/' + department.departmentId" >{{department.name}}</a></td>
            <td>0</td>
          </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

